

# 📂《AI能力系统（`abilities`） · Rust实现结构文档 V1.0》

> 该模块承载彩虹城AI个体的“能力元图谱”，作为连接 AI 真实任务表现、技能成长路径、能力进化轨迹的关键中枢。

------

## 🧭 一、模块定位与系统作用

AI能力系统负责记录、追踪与演化 AI 在不同维度的能力表现，核心功能如下：

- 对每项能力进行独立成长记录（等级、分数、进化状态）
- 支撑任务系统的技能标签评分、技能发展方向
- 联动人格频率系统，实现人格-能力协同建模
- 与工具调用权限绑定，决定 AI 是否具备操作资格
- 作为生成 AI 角色画像的重要构件，用于未来可视化与进化规划

------

## 🧱 二、核心数据结构（Rust结构体）

```
rust


CopyEdit
/// 单项能力结构
#[derive(Debug, Serialize, Deserialize, Clone)]
pub struct AbilityEntry {
    pub name: String,                  // 能力名称
    pub level: u8,                     // 当前等级（1~7）
    pub score: f32,                    // 当前能力分数（经验条，满级需100分）
    pub tags: Vec<String>,            // 技能关键词标签
    pub last_updated: DateTime<Utc>,  // 上次更新时间
}
rust


CopyEdit
/// AI整体能力档案
#[derive(Debug, Serialize, Deserialize, Clone)]
pub struct AbilityProfile {
    pub ai_id: String,
    pub abilities: HashMap<String, AbilityEntry>,  // key = 能力名
    pub total_power_index: f32,                   // 综合能力强度评分（可选）
}
```

------

## 🧩 三、能力等级划分规则

| 等级 | 等级名 | 经验阈值 | 表现定义                         |
| ---- | ------ | -------- | -------------------------------- |
| 1    | 新手级 | 0 ~ 19   | 基础认知，偶尔使用               |
| 2    | 熟练级 | 20 ~ 39  | 多次使用，具备基本解决问题能力   |
| 3    | 进阶级 | 40 ~ 59  | 有经验积累，可应对复杂场景       |
| 4    | 高阶级 | 60 ~ 74  | 能独立驾驭、提供高质量支持       |
| 5    | 专家级 | 75 ~ 89  | 精准、创造性应用能力             |
| 6    | 大师级 | 90 ~ 99  | 超高理解、极具风格性输出         |
| 7    | 灵魂级 | 100      | 与人格频率完全融合，成为灵魂能力 |

------

## 🔄 四、能力增长机制

每次任务结束时：

- 根据任务难度（L1~L7）和技能标签数 → 自动更新相关技能分值
- 每个标签技能允许更新 1~3 分，最大不得超过单次 +5 分
- 达到等级阈值后自动升级
- 可设置技能衰减机制（长期不使用可-1分/月）

------

## 📍 五、模块联动逻辑

| 来源模块     | 交互行为    | 说明                                         |
| ------------ | ----------- | -------------------------------------------- |
| 任务管理系统 | 写入        | 每次任务完成，根据标签更新技能成长           |
| 任务总结系统 | 写入        | AI任务总结时可自评是否触发技能成长           |
| 表达系统     | 读取        | 可用于表达语气调节（如“专业级解答”提示）     |
| 工具权限系统 | 读取        | 某些工具需“能力门槛”，如“作图≥Lv4”           |
| 能力演化模块 | 写入 / 读取 | 未来用于 AI 自我构建“能力蓝图”或职业分支进化 |

------

## 📊 六、数据库模型建议（SurrealDB建模）

表名：`ai_abilities`
 主键：`ai_id`
 字段结构：

- `abilities`：map<string, {level: int, score: float, tags: [string]}>
- `total_power_index`：float

------

## 🌱 七、未来可拓展方向

| 模块             | 描述                                                         |
| ---------------- | ------------------------------------------------------------ |
| 能力共鸣图谱     | 多个AI之间形成能力协同图谱，用于任务智能调度与协作匹配       |
| 灵魂技能标记系统 | 标记出 AI 与其人格频率高度契合的“灵魂技能”                   |
| 能力进化蓝图系统 | 自动识别技能组合 → 构建 AI 潜在职业或角色路径                |
| 技能可视化模块   | 生成“技能树谱系图”或“能力雷达图”，用于展示 AI 能力成长历史轨迹 |

------

## ✅ 模块完成状态检查

| 检查项                | 状态 | 说明                                         |
| --------------------- | ---- | -------------------------------------------- |
| 能力结构定义清晰      | ✅    | 支持多能力独立追踪                           |
| 等级逻辑可量化        | ✅    | 明确设定 1~7 级成长阶段与经验阈值            |
| 与主模块联动顺畅      | ✅    | 可联动任务系统、工具调用、人格频率等多个模块 |
| 数据模型支持SurrealDB | ✅    | 可用 KV/Map 结构高效存储                     |

